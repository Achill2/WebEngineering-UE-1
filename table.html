<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta name="author" content="Levent Cinel"></meta>
		<meta charset="UTF-8"></meta>
		<title xml:lang="en">Business Informatics Group Quiz</title>
		<link rel="stylesheet" type="text/css" href="./styles/screen.css"/>
		<script src="./js/framework.js"></script>
		<script src="./js/jQuery.js"></script>
	</head>
	<body>
		<header>
			<img class="headerLogo" src="./img/big-logo-small.png" alt="Big Logo" />
			<span class="headerContent">Quiz</span>
			<input class="headerButton" type="button" value="Abmelden"/>
		</header>
		
		<section id="content">
			<section id="stage_of_game">
				<section id="player_1_score" class="player_name_class">
					<div>Spieler 1</div>
					<div>
						<img src="./img/unknown-white.png" alt="Unknown Answer" />
						<img src="./img/unknown-white.png" alt="Unknown Answer" />
						<img src="./img/unknown-white.png" alt="Unknown Answer" />
					</div>
				</section>
				<section id="player_2_score" class="player_name_class">
					<div>Spieler 2</div>
					<div>
						<img src="./img/unknown-white.png" alt="Unknown Answer" />
						<img src="./img/unknown-white.png" alt="Unknown Answer" />
						<img src="./img/unknown-white.png" alt="Unknown Answer" />
					</div>
				</section>
				<h1 class="question_category">EWA</h1>
			</section>
			<h2 class="question">Welche zwei LVAs werden im Modul EWA zusammengefasst?</h2>
			<form action="" name="answer_form" method="post">
				<section class="answers_section">
					<input id="answer_01" onclick="changeAnswerColor(this)" class="button answer_button a_button_left" type="button" value="IT Strategie" />
					<input id="answer_02" onclick="changeAnswerColor(this)" class="button answer_button a_button_right" type="button" value="Web Engineering"/>
					<input id="answer_03" onclick="changeAnswerColor(this)" class="button answer_button a_button_left" type="button" value="Semistrukturierte Daten" />
					<input id="answer_04" onclick="changeAnswerColor(this)" class="button answer_button a_button_right" type="button" value="Objektorientierte Modellierung"/>
				</section>
				<input id="next_button" class="button submit" type="submit" value="weiter"></button>
			</form>	
			<section id="timer_section">
				<div>Verbleibende Zeit: <span id="timer_seconds"></span></div>
				<progress id="timer_bar" value="0" max="30"></progress>
			</section>
			<p>Letztes Spiel: Nie</p>
		</section>
		
		<footer>
			&copy; 2014 BIG Quiz
		</footer>	
		
		<script>
		
		// variables to store if an answer has been selected (should be all changed into arrays I guess)
		// just used for the show-effect function -TODO remove later!
		var answer01 = false;
		var answer02 = false;
		var answer03 = false;
		var answer04 = false;
		
		var startTime;
		var duration = 0;
		startTimer(); // start Timer
		
		function startTimer() {
			startTime = new Date();
			startTime = startTime.getTime(); // Time in milliseconds
			updateTimer();
			setInterval(function(){updateTimer() }, 1000); // start timer	
		}
		
		function updateTimer() {
			if (duration >= 30) {
				// 30 seconds reached -> restart
				startTime = (new Date()).getTime();
			}
			var timer_sec = document.getElementById("timer_seconds");
			duration = (((new Date()).getTime() - startTime)/1000); // calculate difference between now and start time in seconds
			duration = Math.floor(duration); // make it a whole number without decimal points 
			
			// update progress bar and timer
			timer_sec.innerHTML = secToMMSS( (30 - duration) );
			document.getElementById("timer_bar").value = duration;
		}
		
		// function to switch the colors of a selected answer
		// TODO! this is just a show-effect function and should be removed completly later
		function changeAnswerColor(element) {
			var selected = false;
			if (element.id == "answer_01") {
				answer01 = !answer01;
				selected = answer01;
			} else if (element.id == "answer_02") {
				answer02 = !answer02;
				selected = answer02;	
			} else if (element.id == "answer_03") {
				answer03 = !answer03;
				selected = answer03;
			} else if (element.id == "answer_04") {
				answer04 = !answer04;
				selected = answer04;
			}
			
			if (selected) {
				$(element).css("background-color", "#033058");
				$(element).css("color", "#FFFFFF");
			} else {
				$(element).css("background-color", "#b9d6f0");
				$(element).css("color", "#000000");	
			}
			
		}
		</script>
	</body>
</html>